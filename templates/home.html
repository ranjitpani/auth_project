{% extends "base.html" %}
{% load static %}
{% block title %}Home{% endblock %}

{% block content %}
<div style="padding:15px;">
    <h2>üè† Welcome to Village Store</h2>
    <p>Home page content here...</p>
</div>

<h2>All Stores</h2>
<div style="display:flex; flex-wrap:wrap; gap:10px;">
    {% for store in stores %}
    <div style="width:220px; border:1px solid #ddd; padding:10px; border-radius:6px;">
        <a href="{% url 'store_detail' store.id %}">
            {% if store.image %}
                <img src="{{ store.image.url }}" width="200" height="150" style="object-fit:cover; border-radius:4px;">
            {% else %}
                <img src="{% static 'default_store.jpg' %}" width="200" height="150" style="object-fit:cover; border-radius:4px;">
            {% endif %}
        </a>
        <h4>{{ store.name }}</h4>
        <p>{{ store.details|truncatewords:10 }}</p>
    </div>
    {% endfor %}
</div>

<hr>
<h2>Random Products</h2>
<div style="display:flex; flex-wrap:wrap; gap:10px;">
    {% for product in products %}
    <div style="width:200px; border:1px solid #ddd; padding:10px; border-radius:6px;">
        {% if product.image %}
            <img src="{{ product.image.url }}" style="width:100%; height:150px; object-fit:cover; border-radius:4px;">
        {% else %}
            <img src="{% static 'default_product.jpg' %}" style="width:100%; height:150px; object-fit:cover; border-radius:4px;">
        {% endif %}
        <h4>{{ product.name }}</h4>
        <p>‚Çπ {{ product.price }}</p>
    </div>
    {% empty %}
        <p>No products available</p>
    {% endfor %}
</div>

{% endblock %}